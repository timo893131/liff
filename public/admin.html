<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>使用者管理</title>
    <link rel="stylesheet" href="css/main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div id="navbar-container"></div>

    <div class="container" style="margin-top: 20px;">
        <div class="header-section">
            <h1>使用者管理後台</h1>
        </div>
        
        <div class="mb-3">
            <input type="text" id="user-search-input" class="form-control" placeholder="依名稱搜尋使用者...">
        </div>

        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>名稱</th>
                        <th>權限</th>
                        <th>LINE User ID</th>
                    </tr>
                </thead>
                <tbody id="user-list-body">
                    </tbody>
            </table>
        </div>
    </div>
    
    <div id="toast-container" class="toast-container position-fixed bottom-0 end-0 p-3">
        </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/admin-script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    
    function loadNavbar() {
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;
                
                // 隱藏日期範圍選單
                const dateRangeContainer = document.getElementById('date-range');
                if (dateRangeContainer) {
                    dateRangeContainer.style.display = 'none';
                }

                // ★ 新增 ★: 隱藏搜尋框
                const searchInput = document.getElementById('search-input');
                if (searchInput) {
                    searchInput.style.display = 'none';
                }
                
                // 載入導航欄後，立即檢查管理員身份
                checkAdmin();
            })
            .catch(error => console.error('Error loading navbar:', error));
            // ★ 新增 ★: 隱藏搜尋框
          const searchInput = document.getElementById('search-input');
          if (searchInput) {
              searchInput.style.display = 'none';
          }
    }

    // 頁面載入時執行
    document.addEventListener('DOMContentLoaded', loadNavbar);
  </script>
</body>
</html>